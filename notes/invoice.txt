const mongoose = require('mongoose');
var dbAdmin = require('../../config/database')

var invoiceSchema = mongoose.Schema({
    date: Date,
    invoiceNumber: String,
    customerName: String,
    details: [{
        name: String,
        price: Number,
        cost: Number,
        amount: Number,
        userId: String,
        itemId: String
    }]
})

const invoiceItem = mongoose.model('invoice', invoiceSchema);

exports.invoiceItem = invoiceItem;

/*exports.addNewItem = data => {
    return new Promise((resolve, reject) => {
        mongoose
            .connect(dbAdmin)
            .then(() => {
                let item = new invoiceItem(data);
                return item.save();
            })
            .then(() => {
                mongoose.disconnect();
                resolve()
            }).catch(err => {
                mongoose.disconnect();
                reject(err);
            })
    })
}*/